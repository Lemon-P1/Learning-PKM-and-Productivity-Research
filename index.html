<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

<!DOCTYPE html>

<html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Modern Learning System Guide</title> <script src="https://cdn.tailwindcss.com"></script> <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet"> <style> body { font-family: 'Inter', sans-serif; background-color: #FDFBF7; /* Warm Cream / color: #2D3748; } h1, h2, h3 { font-family: 'Merriweather', serif; } .tab-active { border-bottom: 3px solid #C0A080; / Clay */ color: #2D3748; font-weight: 600; } .tab-inactive { border-bottom: 3px solid transparent; color: #718096; } .tab-inactive:hover { color: #C0A080; } .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 300px; max-height: 400px; } @media (min-width: 768px) { .chart-container { height: 350px; } } .card-hover { transition: all 0.3s ease; } .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); } </style> </head> <body class="flex flex-col min-h-screen">

<!-- Navigation -->
<nav class="sticky top-0 z-50 bg-[#FDFBF7]/95 backdrop-blur-sm border-b border-stone-200 shadow-sm">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
            <div class="flex items-center">
                <span class="text-xl font-bold text-stone-800 tracking-tight">PKM System</span>
            </div>
            <div class="hidden sm:flex space-x-8" id="nav-container">
                <!-- Nav items injected via JS -->
            </div>
            <div class="flex sm:hidden items-center">
                <button id="mobile-menu-btn" class="text-stone-600 focus:outline-none">
                    ‚ò∞
                </button>
            </div>
        </div>
    </div>
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden sm:hidden bg-[#FDFBF7] border-t border-stone-200">
        <div class="px-2 pt-2 pb-3 space-y-1" id="mobile-nav-items">
            <!-- Mobile Nav Items -->
        </div>
    </div>
</nav>

<!-- Main Content Area -->
<main class="flex-grow container mx-auto px-4 py-8 max-w-5xl">
    
    <!-- Header Section -->
    <header class="text-center mb-12">
        <h1 class="text-3xl md:text-4xl font-bold text-stone-800 mb-4">Blueprint: The Personalized Learning System</h1>
        <p class="text-lg text-stone-600 max-w-2xl mx-auto">
            A structured approach to high-performance learning and knowledge management. Optimize your biological hardware, architect your digital second brain, and execute daily.
        </p>
    </header>

    <!-- View: Biological Foundation -->
    <section id="view-bio" class="view-section animate-fade-in">
        <div class="bg-white rounded-xl shadow-sm border border-stone-100 p-6 mb-8">
            <h2 class="text-2xl font-bold text-stone-800 mb-4">Phase 1: The Biological Foundation</h2>
            <p class="text-stone-600 mb-6">
                Before configuring digital tools, we must optimize the physiological "hardware". High-performance cognition relies on specific sleep protocols and ergonomic rhythms to maximize neuroplasticity and focus.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                
                <!-- Sleep Protocol -->
                <div class="bg-stone-50 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-2">Sleep Protocol Strategy</h3>
                    <p class="text-sm text-stone-500 mb-4">The 7-Hour minimum split for memory consolidation.</p>
                    <div class="chart-container">
                        <canvas id="sleepChart"></canvas>
                    </div>
                    <div class="mt-4 text-sm text-stone-600">
                        <ul class="list-disc pl-5 space-y-1">
                            <li><strong>First 4 Hours:</strong> Declarative Consolidation (Facts/Concepts).</li>
                            <li><strong>Last 3 Hours:</strong> REM-based Synthesis (Creativity/Skills).</li>
                        </ul>
                    </div>
                </div>

                <!-- 20-8-2 Rhythm -->
                <div class="bg-stone-50 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-2">The 20-8-2 Ergonomic Rhythm</h3>
                    <p class="text-sm text-stone-500 mb-4">Optimizing blood flow and focus intervals.</p>
                    <div class="chart-container">
                        <canvas id="rhythmChart"></canvas>
                    </div>
                    <div class="mt-4 text-sm text-stone-600">
                        <p><strong>Goal:</strong> Maintain the brain's "muscular pump" for blood flow.</p>
                        <div class="grid grid-cols-3 gap-2 mt-2 text-center">
                            <div class="bg-stone-200 p-2 rounded">
                                <div class="font-bold">20m</div>
                                <div class="text-xs">Sit</div>
                            </div>
                            <div class="bg-[#c0a080] text-white p-2 rounded">
                                <div class="font-bold">8m</div>
                                <div class="text-xs">Stand</div>
                            </div>
                            <div class="bg-stone-700 text-white p-2 rounded">
                                <div class="font-bold">2m</div>
                                <div class="text-xs">Move</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- View: Architecture (PARA + Zettelkasten) -->
    <section id="view-arch" class="view-section hidden animate-fade-in">
        <div class="bg-white rounded-xl shadow-sm border border-stone-100 p-6 mb-8">
            <h2 class="text-2xl font-bold text-stone-800 mb-4">Phase 2: Knowledge Architecture</h2>
            <p class="text-stone-600 mb-6">
                Organize your digital environment for action (PARA) and insight (Zettelkasten). This structure separates executable projects from long-term knowledge compounding.
            </p>

            <!-- PARA Interactive -->
            <div class="mb-10">
                <h3 class="text-xl font-semibold mb-4 border-b pb-2 border-stone-200">The PARA Structure (Execution Engine)</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                    <button onclick="updateParaDisplay('projects')" class="para-btn p-4 rounded-lg bg-stone-100 hover:bg-[#c0a080] hover:text-white transition-colors text-center font-bold">
                        Projects
                    </button>
                    <button onclick="updateParaDisplay('areas')" class="para-btn p-4 rounded-lg bg-stone-100 hover:bg-[#c0a080] hover:text-white transition-colors text-center font-bold">
                        Areas
                    </button>
                    <button onclick="updateParaDisplay('resources')" class="para-btn p-4 rounded-lg bg-stone-100 hover:bg-[#c0a080] hover:text-white transition-colors text-center font-bold">
                        Resources
                    </button>
                    <button onclick="updateParaDisplay('archives')" class="para-btn p-4 rounded-lg bg-stone-100 hover:bg-[#c0a080] hover:text-white transition-colors text-center font-bold">
                        Archives
                    </button>
                </div>
                <div id="para-content" class="bg-stone-50 p-6 rounded-lg border-l-4 border-[#c0a080]">
                    <h4 class="font-bold text-lg mb-2">Select a category above</h4>
                    <p class="text-stone-600">Click a button to understand the definition and see examples.</p>
                </div>
            </div>

            <!-- Zettelkasten Logic -->
            <div>
                <h3 class="text-xl font-semibold mb-4 border-b pb-2 border-stone-200">The Zettelkasten (Insight Engine)</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <div class="bg-white border border-stone-200 p-4 rounded card-hover">
                            <div class="font-bold text-[#c0a080]">Atomic Notes</div>
                            <p class="text-sm text-stone-600">One idea per note. Write in your own words. No copy-pasting.</p>
                        </div>
                        <div class="bg-white border border-stone-200 p-4 rounded card-hover">
                            <div class="font-bold text-[#c0a080]">Bidirectional Linking</div>
                            <p class="text-sm text-stone-600">Connect concepts like a web: <code>[[Idea A]]</code> links to <code>[[Idea B]]</code>.</p>
                        </div>
                    </div>
                    <div class="bg-stone-800 text-stone-200 p-6 rounded-lg font-mono text-sm shadow-inner overflow-hidden relative">
                        <div class="opacity-50 absolute top-2 right-2 text-xs">Simulated Obsidian View</div>
                        <p class="mb-2"><span class="text-purple-400"># Knowledge Management</span></p>
                        <p class="mb-4">The Zettelkasten method focuses on connection over collection.</p>
                        <p class="mb-2">See also: <span class="text-blue-400 hover:underline cursor-pointer">[[Networked Thought]]</span></p>
                        <p>Related: <span class="text-blue-400 hover:underline cursor-pointer">[[The spacing effect]]</span></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- View: CODE Workflow -->
    <section id="view-workflow" class="view-section hidden animate-fade-in">
        <div class="bg-white rounded-xl shadow-sm border border-stone-100 p-6 mb-8">
            <h2 class="text-2xl font-bold text-stone-800 mb-4">Phase 3: The CODE Workflow</h2>
            <p class="text-stone-600 mb-6">
                The operational pipeline for processing information. Don't just consume‚Äîtransform.
            </p>

            <!-- Stepper UI -->
            <div class="flex flex-col md:flex-row justify-between items-center mb-8 relative">
                <!-- Progress Line -->
                <div class="hidden md:block absolute top-1/2 left-0 w-full h-1 bg-stone-200 -z-0"></div>
                
                <button onclick="setWorkflowStep(0)" class="workflow-step relative z-10 w-12 h-12 rounded-full bg-[#c0a080] text-white font-bold flex items-center justify-center shadow-md transform transition-transform hover:scale-110">C</button>
                <button onclick="setWorkflowStep(1)" class="workflow-step relative z-10 w-12 h-12 rounded-full bg-stone-200 text-stone-600 font-bold flex items-center justify-center shadow-md transform transition-transform hover:scale-110">O</button>
                <button onclick="setWorkflowStep(2)" class="workflow-step relative z-10 w-12 h-12 rounded-full bg-stone-200 text-stone-600 font-bold flex items-center justify-center shadow-md transform transition-transform hover:scale-110">D</button>
                <button onclick="setWorkflowStep(3)" class="workflow-step relative z-10 w-12 h-12 rounded-full bg-stone-200 text-stone-600 font-bold flex items-center justify-center shadow-md transform transition-transform hover:scale-110">E</button>
            </div>

            <!-- Step Content -->
            <div id="workflow-content" class="bg-stone-50 rounded-lg p-8 text-center min-h-[200px] flex flex-col justify-center items-center transition-all duration-300">
                <!-- Content injected by JS -->
            </div>

            <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-blue-50 p-4 rounded border border-blue-100">
                    <h4 class="font-bold text-blue-800">Progressive Summarization</h4>
                    <div class="text-sm text-blue-700 mt-2 space-y-1">
                        <p class="opacity-60">Layer 1: Raw Notes</p>
                        <p class="opacity-80 font-semibold">Layer 2: Bold Pass</p>
                        <p class="opacity-100 bg-yellow-200 inline-block px-1">Layer 3: Highlight Core</p>
                        <p class="text-xs mt-1 border-t border-blue-200 pt-1">Layer 4: Executive Summary</p>
                    </div>
                </div>
                <div class="bg-green-50 p-4 rounded border border-green-100 flex items-center justify-center">
                    <p class="text-green-800 italic">"Information is only useful when it moves towards action."</p>
                </div>
            </div>
        </div>
    </section>

    <!-- View: Learning Strategies -->
    <section id="view-strategies" class="view-section hidden animate-fade-in">
        <div class="bg-white rounded-xl shadow-sm border border-stone-100 p-6 mb-8">
            <h2 class="text-2xl font-bold text-stone-800 mb-4">Phase 4: High-Performance Strategies</h2>
            <p class="text-stone-600 mb-6">
                Replace passive review with "Desirable Difficulties." These methods feel harder but generate stronger neural pathways.
            </p>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Methods List -->
                <div class="col-span-1 space-y-4">
                    <div class="bg-stone-50 p-4 rounded border-l-4 border-red-400">
                        <h3 class="font-bold">Active Recall</h3>
                        <p class="text-sm text-stone-600">Close the book. Write what you know. Only then check.</p>
                    </div>
                    <div class="bg-stone-50 p-4 rounded border-l-4 border-blue-400">
                        <h3 class="font-bold">Spaced Repetition</h3>
                        <p class="text-sm text-stone-600">Review right before you forget. Flatten the forgetting curve.</p>
                    </div>
                    <div class="bg-stone-50 p-4 rounded border-l-4 border-green-400">
                        <h3 class="font-bold">Interleaving</h3>
                        <p class="text-sm text-stone-600">Mix subjects (A, B, C) instead of blocking (AAA, BBB).</p>
                    </div>
                    <div class="bg-stone-50 p-4 rounded border-l-4 border-yellow-400">
                        <h3 class="font-bold">Feynman Technique</h3>
                        <p class="text-sm text-stone-600">Explain it to a child. Identify gaps in simplicity.</p>
                    </div>
                </div>

                <!-- Retention Chart -->
                <div class="col-span-1 lg:col-span-2">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-semibold">The Forgetting Curve vs. Spaced Repetition</h3>
                        <div class="text-xs text-stone-500 bg-stone-100 px-2 py-1 rounded">Visual Concept Data</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="retentionChart"></canvas>
                    </div>
                    <p class="text-sm text-center text-stone-500 mt-2 italic">Without review, retention drops to ~20% in days. With active recall (spikes), it stabilizes.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- View: Daily OS -->
    <section id="view-daily" class="view-section hidden animate-fade-in">
        <div class="bg-white rounded-xl shadow-sm border border-stone-100 p-6 mb-8">
            <h2 class="text-2xl font-bold text-stone-800 mb-4">Phase 5: The Daily Operating System</h2>
            <p class="text-stone-600 mb-6">
                Prevent "attention residue" and burnout using Interstitial Journaling during task transitions.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Concept -->
                <div>
                    <h3 class="font-bold text-lg mb-4">The Workflow</h3>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <span class="bg-stone-800 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-1">1</span>
                            <div>
                                <span class="font-semibold">Trigger:</span>
                                <p class="text-stone-600 text-sm">Whenever you finish a task or switch contexts.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="bg-stone-800 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-1">2</span>
                            <div>
                                <span class="font-semibold">Write "Done":</span>
                                <p class="text-stone-600 text-sm">Clear your mental RAM. Log what you just finished.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="bg-stone-800 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-1">3</span>
                            <div>
                                <span class="font-semibold">Write "Next":</span>
                                <p class="text-stone-600 text-sm">Set a specific intention for the immediate next step.</p>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Interactive Demo -->
                <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-stone-700">Interstitial Journal Demo</h3>
                        <span id="clock" class="text-xs font-mono bg-white px-2 py-1 rounded border border-stone-200">00:00</span>
                    </div>
                    
                    <div id="journal-entries" class="h-40 overflow-y-auto mb-4 space-y-2 p-2 bg-white rounded border border-stone-100 text-sm">
                        <div class="text-stone-400 italic text-center mt-12">Entries will appear here...</div>
                    </div>

                    <div class="space-y-3">
                        <input type="text" id="input-done" placeholder="DONE: Just finished..." class="w-full p-2 text-sm border border-stone-300 rounded focus:outline-none focus:border-[#c0a080]">
                        <input type="text" id="input-next" placeholder="NEXT: I will now..." class="w-full p-2 text-sm border border-stone-300 rounded focus:outline-none focus:border-[#c0a080]">
                        <div class="flex justify-between items-center">
                            <select id="input-energy" class="p-2 text-sm border border-stone-300 rounded text-stone-600">
                                <option>‚ö° High Energy</option>
                                <option>üòê Medium Energy</option>
                                <option>üîã Low Energy</option>
                            </select>
                            <button onclick="addJournalEntry()" class="bg-[#c0a080] text-white px-4 py-2 rounded text-sm hover:bg-[#a38668] transition-colors">Log Transition</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

</main>

<footer class="bg-white border-t border-stone-200 py-8 mt-8">
    <div class="max-w-4xl mx-auto px-4 text-center text-stone-500 text-sm">
        <p class="mb-2"><strong>Recommended Tool Stack (2026 Ready):</strong></p>
        <div class="flex flex-wrap justify-center gap-4">
            <span class="bg-stone-100 px-3 py-1 rounded">Obsidian/Logseq (Storage)</span>
            <span class="bg-stone-100 px-3 py-1 rounded">Notion (Projects)</span>
            <span class="bg-stone-100 px-3 py-1 rounded">RemNote (Memory)</span>
            <span class="bg-stone-100 px-3 py-1 rounded">Otter.ai (Capture)</span>
        </div>
    </div>
</footer>

<script>
    // --- State Management ---
    const state = {
        currentView: 'bio',
        workflowStep: 0
    };

    const navItems = [
        { id: 'bio', label: '1. Foundation' },
        { id: 'arch', label: '2. Architecture' },
        { id: 'workflow', label: '3. Workflow' },
        { id: 'strategies', label: '4. Strategies' },
        { id: 'daily', label: '5. Daily OS' }
    ];

    // --- Initialization ---
    document.addEventListener('DOMContentLoaded', () => {
        renderNav();
        switchView('bio');
        initCharts();
        startClock();
        updateWorkflowUI();
    });

    // --- Navigation Logic ---
    function renderNav() {
        const container = document.getElementById('nav-container');
        const mobileContainer = document.getElementById('mobile-nav-items');
        
        navItems.forEach(item => {
            // Desktop
            const btn = document.createElement('button');
            btn.className = `nav-btn transition-colors duration-200 text-sm font-medium pb-1 ${state.currentView === item.id ? 'tab-active' : 'tab-inactive'}`;
            btn.innerText = item.label;
            btn.onclick = () => switchView(item.id);
            container.appendChild(btn);

            // Mobile
            const mobBtn = document.createElement('button');
            mobBtn.className = "block w-full text-left px-3 py-2 rounded-md text-base font-medium text-stone-700 hover:text-stone-900 hover:bg-stone-50";
            mobBtn.innerText = item.label;
            mobBtn.onclick = () => {
                switchView(item.id);
                document.getElementById('mobile-menu').classList.add('hidden');
            };
            mobileContainer.appendChild(mobBtn);
        });

        // Mobile Toggle
        document.getElementById('mobile-menu-btn').onclick = () => {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        };
    }

    function switchView(viewId) {
        state.currentView = viewId;
        
        // Update Nav Styles
        document.querySelectorAll('.nav-btn').forEach((btn, idx) => {
            if(navItems[idx].id === viewId) {
                btn.classList.remove('tab-inactive');
                btn.classList.add('tab-active');
            } else {
                btn.classList.remove('tab-active');
                btn.classList.add('tab-inactive');
            }
        });

        // Update Section Visibility
        document.querySelectorAll('.view-section').forEach(el => {
            if(el.id === `view-${viewId}`) {
                el.classList.remove('hidden');
            } else {
                el.classList.add('hidden');
            }
        });
    }

    // --- Chart.js Implementations ---
    let sleepChart, rhythmChart, retentionChart;

    function initCharts() {
        // 1. Sleep Chart (Doughnut)
        const ctxSleep = document.getElementById('sleepChart').getContext('2d');
        sleepChart = new Chart(ctxSleep, {
            type: 'doughnut',
            data: {
                labels: ['Declarative Consolidation (Facts)', 'REM Synthesis (Creativity)', 'Transition/Awake'],
                datasets: [{
                    data: [4, 3, 1], // 7 hours + 1 buffer
                    backgroundColor: ['#4A5568', '#c0a080', '#E2E8F0'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    title: { display: true, text: 'The 7+ Hour Architecture' }
                }
            }
        });

        // 2. Rhythm Chart (Horizontal Bar)
        const ctxRhythm = document.getElementById('rhythmChart').getContext('2d');
        rhythmChart = new Chart(ctxRhythm, {
            type: 'bar',
            indexAxis: 'y',
            data: {
                labels: ['The Cycle'],
                datasets: [
                    { label: 'Sit (Focus)', data: [20], backgroundColor: '#A0AEC0' },
                    { label: 'Stand (Flow)', data: [8], backgroundColor: '#c0a080' },
                    { label: 'Move (Reset)', data: [2], backgroundColor: '#2D3748' }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { x: { stacked: true, max: 30 }, y: { stacked: true } },
                plugins: { legend: { position: 'bottom' } }
            }
        });

        // 3. Retention Chart (Line)
        const ctxRetention = document.getElementById('retentionChart').getContext('2d');
        const days = [0, 1, 2, 3, 6, 14, 30];
        retentionChart = new Chart(ctxRetention, {
            type: 'line',
            data: {
                labels: days.map(d => `Day ${d}`),
                datasets: [
                    {
                        label: 'Typical Forgetting Curve',
                        data: [100, 40, 30, 25, 20, 15, 10],
                        borderColor: '#CBD5E0',
                        borderDash: [5, 5],
                        tension: 0.4
                    },
                    {
                        label: 'With Spaced Repetition',
                        data: [100, 100, 100, 95, 90, 85, 80], // Conceptual "reset" points
                        borderColor: '#c0a080',
                        backgroundColor: 'rgba(192, 160, 128, 0.1)',
                        fill: true,
                        tension: 0.2,
                        pointRadius: 5
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { y: { min: 0, max: 100, title: {display: true, text: 'Retention %'} } }
            }
        });
    }

    // --- PARA Logic ---
    const paraData = {
        projects: {
            title: "Projects",
            desc: "Active efforts with a specific deadline.",
            examples: ["Finish Psychology Paper", "Plan Birthday Trip", "Launch Website v1"]
        },
        areas: {
            title: "Areas",
            desc: "Ongoing responsibilities with no end date.",
            examples: ["Health & Fitness", "Finances", "Career Development", "Home Maintenance"]
        },
        resources: {
            title: "Resources",
            desc: "Topics of interest for the future.",
            examples: ["AI Trends", "Cooking Recipes", "Web Design Patterns", "History Notes"]
        },
        archives: {
            title: "Archives",
            desc: "Completed or inactive items.",
            examples: ["2025 Tax Return", "Completed Project X", "Old Apartment Leases"]
        }
    };

    function updateParaDisplay(key) {
        const content = document.getElementById('para-content');
        const data = paraData[key];
        content.innerHTML = `
            <h4 class="font-bold text-xl mb-2 text-stone-800">${data.title}</h4>
            <p class="text-stone-600 mb-4 italic">${data.desc}</p>
            <div class="bg-white p-4 rounded border border-stone-200">
                <h5 class="text-xs uppercase tracking-wide text-stone-400 font-bold mb-2">Examples</h5>
                <ul class="list-disc pl-5 space-y-1 text-stone-700">
                    ${data.examples.map(ex => `<li>${ex}</li>`).join('')}
                </ul>
            </div>
        `;
        
        // Visual feedback on buttons
        document.querySelectorAll('.para-btn').forEach(btn => {
            if(btn.innerText.toLowerCase().includes(key)) {
                btn.classList.add('bg-[#c0a080]', 'text-white');
                btn.classList.remove('bg-stone-100');
            } else {
                btn.classList.remove('bg-[#c0a080]', 'text-white');
                btn.classList.add('bg-stone-100');
            }
        });
    }

    // --- CODE Workflow Logic ---
    const codeSteps = [
        {
            letter: 'C',
            title: 'Capture',
            text: 'Don\'t trust your brain to hold ideas. Use a "Universal Inbox" (Readwise, Voice Memos) to grab everything immediately.',
            action: 'Set up a single inbox where all inputs go.'
        },
        {
            letter: 'O',
            title: 'Organize',
            text: 'Move items from Inbox to PARA. Ask: "Where will I use this?" not "Where does this belong?"',
            action: 'Process your inbox once a day.'
        },
        {
            letter: 'D',
            title: 'Distill',
            text: 'Progressive Summarization. Bold the best parts. Highlight the best bolds. Write a summary at the top.',
            action: 'Make notes discoverable for your future self.'
        },
        {
            letter: 'E',
            title: 'Express',
            text: 'The goal of knowledge is output. Use your distilled notes to build essays, projects, or solutions.',
            action: 'Shift from consumer to creator.'
        }
    ];

    function setWorkflowStep(index) {
        state.workflowStep = index;
        updateWorkflowUI();
    }

    function updateWorkflowUI() {
        const data = codeSteps[state.workflowStep];
        const contentDiv = document.getElementById('workflow-content');
        
        // Animate content change
        contentDiv.style.opacity = 0;
        setTimeout(() => {
            contentDiv.innerHTML = `
                <h3 class="text-3xl font-bold text-[#c0a080] mb-2">${data.letter} - ${data.title}</h3>
                <p class="text-stone-700 text-lg mb-6 max-w-lg mx-auto">${data.text}</p>
                <div class="inline-block bg-white px-4 py-2 rounded-full shadow-sm border border-stone-200 text-sm font-semibold text-stone-500">
                    Action: ${data.action}
                </div>
            `;
            contentDiv.style.opacity = 1;
        }, 200);

        // Update Bubbles
        document.querySelectorAll('.workflow-step').forEach((btn, idx) => {
            if (idx === state.workflowStep) {
                btn.classList.add('bg-[#c0a080]', 'text-white', 'scale-110');
                btn.classList.remove('bg-stone-200', 'text-stone-600');
            } else {
                btn.classList.remove('bg-[#c0a080]', 'text-white', 'scale-110');
                btn.classList.add('bg-stone-200', 'text-stone-600');
            }
        });
    }

    // --- Daily OS Logic ---
    function startClock() {
        setInterval(() => {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }, 1000);
    }

    function addJournalEntry() {
        const done = document.getElementById('input-done').value;
        const next = document.getElementById('input-next').value;
        const energy = document.getElementById('input-energy').value;
        const container = document.getElementById('journal-entries');

        if (!done || !next) return;

        // Remove placeholder if exists
        if (container.children.length === 1 && container.children[0].classList.contains('text-center')) {
            container.innerHTML = '';
        }

        const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        
        const entry = document.createElement('div');
        entry.className = "bg-stone-50 p-3 rounded border-l-2 border-[#c0a080] animate-fade-in";
        entry.innerHTML = `
            <div class="flex justify-between text-xs text-stone-400 mb-1">
                <span>${time}</span>
                <span>${energy}</span>
            </div>
            <div class="text-stone-700"><strong>Done:</strong> ${done}</div>
            <div class="text-stone-700"><strong>Next:</strong> ${next}</div>
        `;
        
        container.prepend(entry);
        
        // Clear inputs
        document.getElementById('input-done').value = '';
        document.getElementById('input-next').value = '';
    }

    // Initialize PARA view
    updateParaDisplay('projects');

</script>
<style>
    .animate-fade-in {
        animation: fadeIn 0.5s ease-out forwards;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>
</body> </html>
