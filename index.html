<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cognitive Architecture: The Master System</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
<style>
body {
font-family: 'Inter', sans-serif;
background-color: #FDFBF7; /* Warm, paper-like background /
color: #1F2937;
}
h1, h2, h3, h4, h5, h6 {
font-family: 'Merriweather', serif;
}
.chart-container {
position: relative;
width: 100%;
max-width: 800px;
margin: 0 auto;
height: 400px;
max-height: 400px;
}
.card-hover:hover {
transform: translateY(-2px);
box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}
.nav-item.active {
background-color: #E5E7EB;
border-left: 4px solid #D97706; / Amber-600 /
color: #111827;
}
/ Custom Scrollbar for text areas */
textarea::-webkit-scrollbar {
width: 8px;
}
textarea::-webkit-scrollbar-track {
background: #f1f1f1;
}
textarea::-webkit-scrollbar-thumb {
background: #D1D5DB;
border-radius: 4px;
}
textarea::-webkit-scrollbar-thumb:hover {
background: #9CA3AF;
}
.step-connector {
position: absolute;
top: 2rem;
bottom: 0;
left: 1rem;
width: 2px;
background-color: #E5E7EB;
z-index: 0;
}
</style>
<!-- Chosen Palette: Warm Neuro (Paper Cream #FDFBF7, Ink Black #1F2937, Amber Accent #D97706, Sage Secondary #84CC16) -->
<!-- Application Structure Plan:
The app is structured as a "Digital Codex" with a sidebar navigation (desktop) / top menu (mobile).
1. Introduction/Dashboard: Establishes the "Why" using the Ebbinghaus Forgetting Curve (Interactive Chart).
2. Phase 1: Ingestion (SQ3R): Interactive accordion to breakdown the reading process.
3. Phase 2: Processing (Feynman): A live text-analysis tool that encourages simplification.
4. Phase 3: Synthesis (Zettelkasten): A visual CSS-based demonstration of "Lattice" vs "Silo" storage.
5. Phase 4: Retention (Spaced Repetition): A simulation of the review algorithm.
6. The Master Protocol: A unified checklist combining all steps.
This linear yet explorable structure moves the user from "Input" to "Permanent Storage", mirroring the cognitive process itself.
-->
<!-- Visualization & Content Choices:
1. Forgetting Curve: Chart.js Line Chart. Goal: Show rapid decay of memory. Interaction: "Review" buttons to boost the curve.
2. Knowledge Density: Chart.js Bar Chart. Goal: Compare retention rates of methods.
3. Concept Lattice: CSS Grid/Flex visualization (No SVG). Goal: Show interconnectedness.
4. Content: Synthesized from the prompt's requirements (Zettelkasten, SQ3R, etc.) into actionable steps.
Confirmation: NO SVG graphics used. NO Mermaid JS used.
-->
<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex flex-col md:flex-row min-h-screen">

<!-- Mobile Nav Toggle -->
<div class="md:hidden bg-white border-b border-gray-200 p-4 flex justify-between items-center sticky top-0 z-50">
    <span class="font-serif font-bold text-lg text-amber-700">Cognitive Architecture</span>
    <button id="menu-toggle" class="text-gray-600 focus:outline-none">
        <span class="text-2xl">&#9776;</span>
    </button>
</div>

<!-- Sidebar Navigation -->
<nav id="sidebar" class="hidden md:flex flex-col w-full md:w-64 bg-white border-r border-gray-200 h-screen sticky top-0 overflow-y-auto">
    <div class="p-6 border-b border-gray-100">
        <h1 class="font-serif font-bold text-xl text-amber-700">Cognitive Architecture</h1>
        <p class="text-xs text-gray-500 mt-1 uppercase tracking-wider">The Master System</p>
    </div>
    <ul class="flex-1 py-4 space-y-1">
        <li>
            <button onclick="navigate('dashboard')" class="nav-item w-full text-left px-6 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors active" data-target="dashboard">
                1. The Problem & Solution
            </button>
        </li>
        <li>
            <button onclick="navigate('ingestion')" class="nav-item w-full text-left px-6 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors" data-target="ingestion">
                2. Ingestion (SQ3R+)
            </button>
        </li>
        <li>
            <button onclick="navigate('processing')" class="nav-item w-full text-left px-6 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors" data-target="processing">
                3. Processing (Feynman)
            </button>
        </li>
        <li>
            <button onclick="navigate('synthesis')" class="nav-item w-full text-left px-6 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors" data-target="synthesis">
                4. Synthesis (Zettelkasten)
            </button>
        </li>
        <li>
            <button onclick="navigate('retention')" class="nav-item w-full text-left px-6 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors" data-target="retention">
                5. Retention (Spaced Rep.)
            </button>
        </li>
        <li>
            <button onclick="navigate('protocol')" class="nav-item w-full text-left px-6 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors" data-target="protocol">
                6. The Master Protocol
            </button>
        </li>
    </ul>
    <div class="p-6 border-t border-gray-100">
        <div class="bg-amber-50 rounded-lg p-4">
            <h4 class="text-xs font-bold text-amber-800 uppercase mb-2">System Status</h4>
            <div class="flex justify-between items-center text-xs text-gray-600 mb-1">
                <span>Working Memory:</span>
                <span class="font-mono">Limited</span>
            </div>
            <div class="w-full bg-amber-200 rounded-full h-1.5 mb-3">
                <div class="bg-amber-500 h-1.5 rounded-full" style="width: 15%"></div>
            </div>
            <div class="flex justify-between items-center text-xs text-gray-600 mb-1">
                <span>Long-Term Store:</span>
                <span class="font-mono">Infinite</span>
            </div>
            <div class="w-full bg-green-200 rounded-full h-1.5">
                <div class="bg-green-600 h-1.5 rounded-full" style="width: 5%"></div>
            </div>
        </div>
    </div>
</nav>

<!-- Main Content Area -->
<main class="flex-1 overflow-y-auto p-4 md:p-8 lg:p-12 scroll-smooth">
    
    <!-- SECTION 1: DASHBOARD / THE PROBLEM -->
    <section id="dashboard" class="content-section block animate-fade-in space-y-8">
        <div class="max-w-4xl mx-auto">
            <header class="mb-8">
                <h2 class="text-3xl md:text-4xl font-serif font-bold text-gray-900 mb-4">From Passive Consumption to Mental Architecture</h2>
                <p class="text-lg text-gray-600 leading-relaxed">
                    The modern information landscape is a deluge. Without a system, 90% of what you read is lost within 24 hours. 
                    This dashboard investigates the mechanics of memory and introduces a "Master System" to transition from fleeting familiarity to permanent mastery.
                </p>
            </header>

            <!-- Key Metric Grid -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm card-hover">
                    <div class="text-3xl mb-2">üìâ</div>
                    <h3 class="font-bold text-gray-900">The Problem</h3>
                    <p class="text-sm text-gray-500 mt-2">The Ebbinghaus Forgetting Curve deletes un-reviewed data exponentially.</p>
                </div>
                <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm card-hover">
                    <div class="text-3xl mb-2">üß†</div>
                    <h3 class="font-bold text-gray-900">The Goal</h3>
                    <p class="text-sm text-gray-500 mt-2">To move data from fragile Working Memory to crystallized Long-Term Storage.</p>
                </div>
                <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm card-hover">
                    <div class="text-3xl mb-2">üõ†Ô∏è</div>
                    <h3 class="font-bold text-gray-900">The Method</h3>
                    <p class="text-sm text-gray-500 mt-2">A synthesis of SQ3R, Zettelkasten, and Spaced Repetition.</p>
                </div>
            </div>

            <!-- Interactive Visualization: The Forgetting Curve -->
            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-sm border border-gray-200">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                    <div>
                        <h3 class="text-xl font-bold text-gray-900">Visualizing Memory Decay</h3>
                        <p class="text-sm text-gray-500">Interact with the buttons to see how reviews alter the curve.</p>
                    </div>
                    <div class="mt-4 md:mt-0 space-x-2">
                        <button id="resetCurveBtn" class="px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition">Reset (No Review)</button>
                        <button id="addReviewBtn" class="px-4 py-2 text-sm bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition shadow-md">Simulate Review</button>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="forgettingCurveChart"></canvas>
                </div>
                <p class="text-xs text-center text-gray-400 mt-4">Based on Ebbinghaus (1885) and modern neurobiological consolidation theories.</p>
            </div>
        </div>
    </section>

    <!-- SECTION 2: INGESTION (SQ3R) -->
    <section id="ingestion" class="content-section hidden animate-fade-in space-y-8">
        <div class="max-w-4xl mx-auto">
            <header class="mb-8 border-l-4 border-amber-500 pl-4">
                <h2 class="text-3xl font-serif font-bold text-gray-900 mb-2">Phase 1: Strategic Ingestion</h2>
                <p class="text-gray-600">
                    Reading is not a passive act; it is an interrogation. We utilize the <strong>SQ3R</strong> method to prime the brain before deep reading begins. This creates "mental hooks" for information to catch onto.
                </p>
            </header>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Interactive SQ3R List -->
                <div class="space-y-4">
                    <h3 class="font-bold text-lg text-gray-900 mb-4">The SQ3R Protocol</h3>
                    
                    <div class="sq3r-item cursor-pointer group" onclick="toggleAccordion('sq3r-1')">
                        <div class="flex items-center p-4 bg-white border border-gray-200 rounded-lg hover:border-amber-400 transition">
                            <div class="w-10 h-10 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center font-bold mr-4">S</div>
                            <div class="flex-1">
                                <h4 class="font-bold text-gray-800">Survey</h4>
                                <p class="text-sm text-gray-500">The pre-flight check.</p>
                            </div>
                            <span class="text-gray-400 group-hover:text-amber-600">‚ñº</span>
                        </div>
                        <div id="sq3r-1" class="hidden p-4 bg-gray-50 border-x border-b border-gray-200 rounded-b-lg text-sm text-gray-700">
                            <strong>Action:</strong> Scan the TOC, chapter titles, headings, and conclusion. <br>
                            <strong>Goal:</strong> Build a structural map. Don't read sentences yet. Estimate the argument's trajectory.
                        </div>
                    </div>

                    <div class="sq3r-item cursor-pointer group" onclick="toggleAccordion('sq3r-2')">
                        <div class="flex items-center p-4 bg-white border border-gray-200 rounded-lg hover:border-amber-400 transition">
                            <div class="w-10 h-10 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center font-bold mr-4">Q</div>
                            <div class="flex-1">
                                <h4 class="font-bold text-gray-800">Question</h4>
                                <p class="text-sm text-gray-500">Turn headings into questions.</p>
                            </div>
                            <span class="text-gray-400 group-hover:text-amber-600">‚ñº</span>
                        </div>
                        <div id="sq3r-2" class="hidden p-4 bg-gray-50 border-x border-b border-gray-200 rounded-b-lg text-sm text-gray-700">
                            <strong>Action:</strong> Rewrite "The Origins of War" to "What are the specific origins of war described here?"<br>
                            <strong>Goal:</strong> Transform reading from passive reception to active answering.
                        </div>
                    </div>

                    <div class="sq3r-item cursor-pointer group" onclick="toggleAccordion('sq3r-3')">
                        <div class="flex items-center p-4 bg-white border border-gray-200 rounded-lg hover:border-amber-400 transition">
                            <div class="w-10 h-10 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center font-bold mr-4">R</div>
                            <div class="flex-1">
                                <h4 class="font-bold text-gray-800">Read</h4>
                                <p class="text-sm text-gray-500">Active engagement (Marginalia).</p>
                            </div>
                            <span class="text-gray-400 group-hover:text-amber-600">‚ñº</span>
                        </div>
                        <div id="sq3r-3" class="hidden p-4 bg-gray-50 border-x border-b border-gray-200 rounded-b-lg text-sm text-gray-700">
                            <strong>Action:</strong> Read to answer your questions. <br>
                            <strong>Tactics:</strong> Use <em>Marginalia</em>. Highlight key terms, but write *why* you highlighted them in the margins. Argue with the author in pencil.
                        </div>
                    </div>
                    
                     <div class="sq3r-item cursor-pointer group" onclick="toggleAccordion('sq3r-4')">
                        <div class="flex items-center p-4 bg-white border border-gray-200 rounded-lg hover:border-amber-400 transition">
                            <div class="w-10 h-10 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center font-bold mr-4">R</div>
                            <div class="flex-1">
                                <h4 class="font-bold text-gray-800">Recite</h4>
                                <p class="text-sm text-gray-500">Immediate synthesis.</p>
                            </div>
                            <span class="text-gray-400 group-hover:text-amber-600">‚ñº</span>
                        </div>
                        <div id="sq3r-4" class="hidden p-4 bg-gray-50 border-x border-b border-gray-200 rounded-b-lg text-sm text-gray-700">
                            <strong>Action:</strong> Look away from the page. State the main point in your own words.<br>
                            <strong>Goal:</strong> Test working memory immediately. If you can't say it, you didn't read it.
                        </div>
                    </div>

                    <div class="sq3r-item cursor-pointer group" onclick="toggleAccordion('sq3r-5')">
                        <div class="flex items-center p-4 bg-white border border-gray-200 rounded-lg hover:border-amber-400 transition">
                            <div class="w-10 h-10 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center font-bold mr-4">R</div>
                            <div class="flex-1">
                                <h4 class="font-bold text-gray-800">Review</h4>
                                <p class="text-sm text-gray-500">Consolidation.</p>
                            </div>
                            <span class="text-gray-400 group-hover:text-amber-600">‚ñº</span>
                        </div>
                        <div id="sq3r-5" class="hidden p-4 bg-gray-50 border-x border-b border-gray-200 rounded-b-lg text-sm text-gray-700">
                            <strong>Action:</strong> Scan your marginalia and questions again. <br>
                            <strong>Goal:</strong> Prepare for the next phase: The Feynman Technique.
                        </div>
                    </div>
                </div>

                <!-- Comparison Chart -->
                <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col">
                    <h3 class="font-bold text-lg text-gray-900 mb-4">Retention Rates by Method</h3>
                    <div class="flex-1 chart-container" style="max-height: 300px;">
                        <canvas id="retentionBarChart"></canvas>
                    </div>
                    <p class="text-xs text-gray-500 mt-4 italic">Data derived from NTL Institute Learning Pyramid.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 3: PROCESSING (FEYNMAN) -->
    <section id="processing" class="content-section hidden animate-fade-in space-y-8">
        <div class="max-w-4xl mx-auto">
            <header class="mb-8 border-l-4 border-amber-500 pl-4">
                <h2 class="text-3xl font-serif font-bold text-gray-900 mb-2">Phase 2: Radical Simplification</h2>
                <p class="text-gray-600">
                    Understanding is a measure of simplicity. The <strong>Feynman Technique</strong> exposes illusions of competence by forcing you to explain complex ideas in simple language. If you use jargon, you don't understand it yet.
                </p>
            </header>

            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-sm border border-gray-200">
                <h3 class="font-bold text-xl text-gray-900 mb-4">Interactive Feynman Drafter</h3>
                <p class="text-sm text-gray-500 mb-6">Type a complex concept from your reading on the left. On the right, rewrite it for a 12-year-old. The system will highlight potential jargon/complexity.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="flex flex-col">
                        <label class="text-xs font-bold text-gray-500 uppercase mb-2">Source Concept (Complex)</label>
                        <textarea id="feynmanSource" class="flex-1 w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition h-48 text-sm" placeholder="Paste complex text here (e.g., 'Neuroplasticity is the ability of neural networks in the brain to change through growth and reorganization...')"></textarea>
                    </div>
                    <div class="flex flex-col">
                        <label class="text-xs font-bold text-gray-500 uppercase mb-2">Simpler Explanation (Your Draft)</label>
                        <textarea id="feynmanDraft" class="flex-1 w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition h-48 text-sm" placeholder="Explain it simply here..."></textarea>
                    </div>
                </div>

                <div class="mt-4 flex justify-between items-center bg-gray-50 p-4 rounded-lg">
                    <div id="complexityFeedback" class="text-sm text-gray-600">
                        Status: <span class="font-bold text-gray-400">Waiting for input...</span>
                    </div>
                    <button onclick="analyzeFeynman()" class="px-6 py-2 bg-amber-600 text-white font-medium rounded-lg hover:bg-amber-700 transition">Analyze Simplicity</button>
                </div>
            </div>
            
            <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
                 <div class="p-4 border-l-4 border-red-400 bg-red-50 rounded-r-lg">
                    <h4 class="font-bold text-red-900">1. Identify the Concept</h4>
                    <p class="text-sm text-red-800 mt-1">Write the name of the concept at the top of a blank sheet.</p>
                 </div>
                 <div class="p-4 border-l-4 border-yellow-400 bg-yellow-50 rounded-r-lg">
                    <h4 class="font-bold text-yellow-900">2. Teach a Child</h4>
                    <p class="text-sm text-yellow-800 mt-1">Write an explanation in plain English. No buzzwords.</p>
                 </div>
                 <div class="p-4 border-l-4 border-green-400 bg-green-50 rounded-r-lg">
                    <h4 class="font-bold text-green-900">3. Review & Refine</h4>
                    <p class="text-sm text-green-800 mt-1">Identify gaps where you got stuck. Go back to source material.</p>
                 </div>
            </div>
        </div>
    </section>

    <!-- SECTION 4: SYNTHESIS (ZETTELKASTEN) -->
    <section id="synthesis" class="content-section hidden animate-fade-in space-y-8">
        <div class="max-w-4xl mx-auto">
            <header class="mb-8 border-l-4 border-amber-500 pl-4">
                <h2 class="text-3xl font-serif font-bold text-gray-900 mb-2">Phase 3: Networked Synthesis</h2>
                <p class="text-gray-600">
                    Most note-taking fails because it stores ideas in silos (Topics). The <strong>Zettelkasten</strong> (Slip-box) stores ideas in a network (Contexts). This creates a "Second Brain" where ideas collide to form new insights.
                </p>
            </header>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Concept Illustration -->
                <div class="bg-gray-900 rounded-xl p-6 relative overflow-hidden min-h-[300px] flex flex-col items-center justify-center text-center">
                    <div class="absolute inset-0 opacity-20 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-700 via-gray-900 to-black"></div>
                    
                    <!-- CSS Lattice Visualization -->
                    <div id="lattice-viz" class="relative w-full h-full flex items-center justify-center">
                        <div class="absolute w-64 h-64 border border-gray-700 rounded-full animate-spin-slow opacity-30"></div>
                        <div class="absolute w-48 h-48 border border-gray-600 rounded-full animate-reverse-spin opacity-40"></div>
                        
                        <!-- Nodes -->
                        <div class="absolute bg-amber-500 w-3 h-3 rounded-full top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 shadow-[0_0_15px_rgba(245,158,11,0.8)] z-10"></div>
                        <div class="absolute bg-gray-400 w-2 h-2 rounded-full top-1/3 left-1/3"></div>
                        <div class="absolute bg-gray-400 w-2 h-2 rounded-full top-2/3 left-2/3"></div>
                        <div class="absolute bg-gray-400 w-2 h-2 rounded-full top-1/3 left-2/3"></div>
                        <div class="absolute bg-gray-400 w-2 h-2 rounded-full top-2/3 left-1/3"></div>
                        
                        <!-- Connecting Lines (CSS borders) -->
                        <div class="absolute top-1/2 left-1/2 w-24 h-[1px] bg-amber-500/50 origin-left transform -rotate-45"></div>
                        <div class="absolute top-1/2 left-1/2 w-24 h-[1px] bg-amber-500/50 origin-left transform rotate-45"></div>
                        <div class="absolute top-1/2 left-1/2 w-24 h-[1px] bg-amber-500/50 origin-left transform rotate-135"></div>
                        <div class="absolute top-1/2 left-1/2 w-24 h-[1px] bg-amber-500/50 origin-left transform -rotate-135"></div>
                    </div>
                    
                    <p class="relative z-10 text-gray-300 font-serif italic mt-4">"A lattice of interconnected ideas"</p>
                </div>

                <!-- Steps List -->
                <div class="space-y-4">
                    <h3 class="font-bold text-gray-900">The Note Typology</h3>
                    
                    <div class="p-4 bg-white border-l-4 border-gray-300 shadow-sm rounded-r-lg">
                        <h4 class="font-bold text-gray-800">1. Fleeting Notes</h4>
                        <p class="text-sm text-gray-600">Quick captures during the day. Discarded after processing.</p>
                    </div>
                    
                    <div class="p-4 bg-white border-l-4 border-blue-400 shadow-sm rounded-r-lg">
                        <h4 class="font-bold text-gray-800">2. Literature Notes</h4>
                        <p class="text-sm text-gray-600">Summaries of content (SQ3R/Feynman output). Source reference is mandatory.</p>
                    </div>

                    <div class="p-4 bg-white border-l-4 border-amber-500 shadow-sm rounded-r-lg transform translate-x-2">
                        <h4 class="font-bold text-gray-900">3. Permanent Notes (Zettels)</h4>
                        <p class="text-sm text-gray-600">One idea per note. Written for your future self. <strong>Linked</strong> to other notes.</p>
                    </div>
                    
                    <div class="p-4 bg-gray-50 border border-gray-200 rounded-lg text-xs text-gray-500 mt-4">
                        <strong>Syntopical Reading Rule:</strong> Never just read one book on a topic. Read three. Compare their arguments in your Permanent Notes. This creates a "dialogue" in your system.
                    </div>
                </div>
            </div>

            <div class="bg-amber-50 p-6 rounded-lg border border-amber-100">
                <h3 class="font-bold text-amber-900 mb-2">The Golden Rule of Linking</h3>
                <p class="text-amber-800 text-sm">
                    Do not file notes by "Category" (e.g., History). File them by "Context" (e.g., How does this relate to my theory on cyclical violence?).
                    Links should be surprising. Connect biology to architecture. Connect music to coding. This is where insight is born.
                </p>
            </div>
        </div>
    </section>

    <!-- SECTION 5: RETENTION (SPACED REPETITION) -->
    <section id="retention" class="content-section hidden animate-fade-in space-y-8">
        <div class="max-w-4xl mx-auto">
            <header class="mb-8 border-l-4 border-amber-500 pl-4">
                <h2 class="text-3xl font-serif font-bold text-gray-900 mb-2">Phase 4: Algorithmic Retention</h2>
                <p class="text-gray-600">
                    Understanding is not memory. To keep what you've synthesized, you must interrupt the forgetting curve at specific intervals. We use <strong>Spaced Repetition</strong> and <strong>Active Recall</strong>.
                </p>
            </header>

            <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm mb-8">
                <h3 class="font-bold text-lg text-gray-900 mb-4">The Review Algorithm</h3>
                <div class="flex justify-between items-center mb-6 overflow-x-auto pb-4">
                    <!-- Step Nodes -->
                    <div class="flex flex-col items-center min-w-[80px]">
                        <div class="w-10 h-10 rounded-full bg-green-100 text-green-700 font-bold flex items-center justify-center mb-2 border-2 border-green-500">Day 1</div>
                        <span class="text-xs text-gray-500 text-center">First Learning</span>
                    </div>
                    <div class="h-1 w-full bg-gray-200 mt-[-2rem]"></div>
                    <div class="flex flex-col items-center min-w-[80px]">
                        <div class="w-10 h-10 rounded-full bg-white text-gray-500 font-bold flex items-center justify-center mb-2 border-2 border-gray-300">Day 2</div>
                        <span class="text-xs text-gray-500 text-center">1st Review</span>
                    </div>
                    <div class="h-1 w-full bg-gray-200 mt-[-2rem]"></div>
                     <div class="flex flex-col items-center min-w-[80px]">
                        <div class="w-10 h-10 rounded-full bg-white text-gray-500 font-bold flex items-center justify-center mb-2 border-2 border-gray-300">Day 7</div>
                        <span class="text-xs text-gray-500 text-center">2nd Review</span>
                    </div>
                    <div class="h-1 w-full bg-gray-200 mt-[-2rem]"></div>
                     <div class="flex flex-col items-center min-w-[80px]">
                        <div class="w-10 h-10 rounded-full bg-white text-gray-500 font-bold flex items-center justify-center mb-2 border-2 border-gray-300">Day 16</div>
                        <span class="text-xs text-gray-500 text-center">3rd Review</span>
                    </div>
                     <div class="h-1 w-full bg-gray-200 mt-[-2rem]"></div>
                     <div class="flex flex-col items-center min-w-[80px]">
                        <div class="w-10 h-10 rounded-full bg-white text-gray-500 font-bold flex items-center justify-center mb-2 border-2 border-gray-300">Day 35</div>
                        <span class="text-xs text-gray-500 text-center">Permanent?</span>
                    </div>
                </div>
                
                <div class="bg-gray-50 p-4 rounded-lg">
                     <h4 class="font-bold text-gray-800 mb-2">Active Recall Strategy</h4>
                     <p class="text-sm text-gray-600 mb-2">Do not just re-read your notes. That is passive recognition. You must retrieve the answer from thin air.</p>
                     <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 ml-2">
                         <li>Use Flashcards (Anki) for facts.</li>
                         <li>Use "Blind Writing" for concepts (Write everything you know about X on a blank page).</li>
                         <li>Only check the source material <em>after</em> you have struggled to remember. The struggle builds the myelin.</li>
                     </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 6: MASTER PROTOCOL CHECKLIST -->
    <section id="protocol" class="content-section hidden animate-fade-in space-y-8">
         <div class="max-w-4xl mx-auto">
            <header class="mb-8 border-l-4 border-amber-500 pl-4">
                <h2 class="text-3xl font-serif font-bold text-gray-900 mb-2">The Master Protocol</h2>
                <p class="text-gray-600">
                    The unified step-by-step workflow for processing any complex non-fiction text.
                </p>
            </header>

            <div class="bg-white shadow-lg rounded-xl overflow-hidden border border-gray-200">
                <div class="bg-gray-50 p-4 border-b border-gray-200 flex justify-between items-center">
                    <span class="font-bold text-gray-700">Project Checklist</span>
                    <button onclick="resetChecklist()" class="text-xs text-amber-600 hover:text-amber-800">Reset</button>
                </div>
                
                <div class="p-0">
                    <!-- Step 1 -->
                    <div class="border-b border-gray-100 p-4 hover:bg-gray-50 transition flex items-start">
                        <input type="checkbox" class="mt-1 mr-4 h-5 w-5 text-amber-600 focus:ring-amber-500 border-gray-300 rounded">
                        <div>
                            <span class="block font-bold text-gray-800">1. Survey & Question</span>
                            <span class="text-sm text-gray-500">Scan headings. Create questions. Prime the brain.</span>
                        </div>
                    </div>
                     <!-- Step 2 -->
                    <div class="border-b border-gray-100 p-4 hover:bg-gray-50 transition flex items-start">
                        <input type="checkbox" class="mt-1 mr-4 h-5 w-5 text-amber-600 focus:ring-amber-500 border-gray-300 rounded">
                        <div>
                            <span class="block font-bold text-gray-800">2. Active Reading</span>
                            <span class="text-sm text-gray-500">Read to answer questions. Mark marginalia. Do not highlight blindly.</span>
                        </div>
                    </div>
                     <!-- Step 3 -->
                    <div class="border-b border-gray-100 p-4 hover:bg-gray-50 transition flex items-start">
                        <input type="checkbox" class="mt-1 mr-4 h-5 w-5 text-amber-600 focus:ring-amber-500 border-gray-300 rounded">
                        <div>
                            <span class="block font-bold text-gray-800">3. Feynman Processing</span>
                            <span class="text-sm text-gray-500">Rewrite key concepts simply. Identify gaps.</span>
                        </div>
                    </div>
                     <!-- Step 4 -->
                    <div class="border-b border-gray-100 p-4 hover:bg-gray-50 transition flex items-start">
                        <input type="checkbox" class="mt-1 mr-4 h-5 w-5 text-amber-600 focus:ring-amber-500 border-gray-300 rounded">
                        <div>
                            <span class="block font-bold text-gray-800">4. Create Permanent Notes</span>
                            <span class="text-sm text-gray-500">One idea per note. Link to existing knowledge. Add to Zettelkasten.</span>
                        </div>
                    </div>
                     <!-- Step 5 -->
                    <div class="p-4 hover:bg-gray-50 transition flex items-start">
                        <input type="checkbox" class="mt-1 mr-4 h-5 w-5 text-amber-600 focus:ring-amber-500 border-gray-300 rounded">
                        <div>
                            <span class="block font-bold text-gray-800">5. Schedule Reviews</span>
                            <span class="text-sm text-gray-500">Add to Anki or Calendar for Day 1, 7, 16 review.</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-8 text-center">
                <p class="font-serif italic text-gray-500">"Knowledge is not power. Potential power. Action is power."</p>
            </div>
        </div>
    </section>

</main>

<!-- JavaScript Logic -->
<script>
    // --- Navigation Logic ---
    function navigate(targetId) {
        // Hide all sections
        document.querySelectorAll('.content-section').forEach(el => {
            el.classList.add('hidden');
        });
        
        // Show target section
        document.getElementById(targetId).classList.remove('hidden');
        
        // Update Navigation State
        document.querySelectorAll('.nav-item').forEach(el => {
            el.classList.remove('active', 'border-l-4', 'border-amber-600', 'bg-gray-100');
            if(el.dataset.target === targetId) {
                el.classList.add('active', 'border-l-4', 'border-amber-600', 'bg-gray-100');
            }
        });

        // Scroll to top
        window.scrollTo(0, 0);

        // Trigger specific inits if needed
        if (targetId === 'dashboard') {
            // reset or animate chart?
        }
    }

    // --- Mobile Menu Toggle ---
    document.getElementById('menu-toggle').addEventListener('click', () => {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('hidden');
        sidebar.classList.toggle('fixed');
        sidebar.classList.toggle('z-40');
        sidebar.classList.toggle('bg-white');
        sidebar.classList.toggle('w-full');
        sidebar.classList.toggle('h-full');
    });

    // --- Accordion Logic ---
    function toggleAccordion(id) {
        const el = document.getElementById(id);
        if (el.classList.contains('hidden')) {
            el.classList.remove('hidden');
        } else {
            el.classList.add('hidden');
        }
    }

    // --- Checklist Reset ---
    function resetChecklist() {
        document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
    }

    // --- Feynman Analyzer (Simple Heuristic) ---
    function analyzeFeynman() {
        const text = document.getElementById('feynmanDraft').value;
        const feedback = document.getElementById('complexityFeedback');
        
        if (!text.trim()) {
            feedback.innerHTML = "Status: <span class='text-red-500'>Please enter text first.</span>";
            return;
        }

        const words = text.split(/\s+/);
        const complexWords = words.filter(w => w.length > 10); // Simple proxy for complexity
        const wordCount = words.length;
        const complexityScore = (complexWords.length / wordCount) * 100;

        if (wordCount < 10) {
             feedback.innerHTML = "Status: <span class='text-amber-500'>Too short to analyze. Explain more.</span>";
        } else if (complexityScore > 15) {
             feedback.innerHTML = "Status: <span class='text-red-500 font-bold'>Too Complex.</span> Detected jargon/long words. Try simpler language.";
        } else {
             feedback.innerHTML = "Status: <span class='text-green-600 font-bold'>Excellent Simplicity.</span> This is likely clear to a novice.";
        }
    }

    // --- CHART: The Forgetting Curve ---
    const ctxFC = document.getElementById('forgettingCurveChart').getContext('2d');
    
    // Data Models
    const initialData = [100, 33, 25, 21, 18, 15, 12]; // Standard decay without review
    const labels = ['Day 0', 'Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5', 'Day 6'];
    
    let curveChart = new Chart(ctxFC, {
        type: 'line',
        data: {
            labels: labels,
            datasets: [{
                label: 'Retention (%)',
                data: [...initialData],
                borderColor: '#9CA3AF', // Gray
                backgroundColor: 'rgba(156, 163, 175, 0.1)',
                borderWidth: 3,
                tension: 0.4,
                fill: true,
                pointRadius: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    max: 100,
                    title: { display: true, text: 'Retention %' }
                }
            },
            plugins: {
                tooltip: {
                    mode: 'index',
                    intersect: false,
                }
            }
        }
    });

    // Review Simulation Logic
    let reviewCount = 0;
    document.getElementById('addReviewBtn').addEventListener('click', () => {
        reviewCount++;
        let newData;

        if (reviewCount === 1) {
            // First Review boosts retention significantly
            newData = [100, 100, 80, 70, 60, 55, 50]; 
            curveChart.data.datasets[0].borderColor = '#D97706'; // Amber
            curveChart.data.datasets[0].backgroundColor = 'rgba(217, 119, 6, 0.1)';
        } else if (reviewCount === 2) {
            // Second Review flattens curve
            newData = [100, 100, 100, 95, 90, 88, 85];
            curveChart.data.datasets[0].borderColor = '#059669'; // Green
            curveChart.data.datasets[0].backgroundColor = 'rgba(5, 150, 105, 0.1)';
        } else {
            // Permanent
            newData = [100, 100, 100, 100, 98, 97, 96];
        }

        curveChart.data.datasets[0].data = newData;
        curveChart.update();
    });

    document.getElementById('resetCurveBtn').addEventListener('click', () => {
        reviewCount = 0;
        curveChart.data.datasets[0].data = [...initialData];
        curveChart.data.datasets[0].borderColor = '#9CA3AF';
        curveChart.data.datasets[0].backgroundColor = 'rgba(156, 163, 175, 0.1)';
        curveChart.update();
    });

    // --- CHART: Retention Comparison Bar Chart ---
    const ctxBar = document.getElementById('retentionBarChart').getContext('2d');
    new Chart(ctxBar, {
        type: 'bar',
        data: {
            labels: ['Lecture', 'Reading', 'Audio/Visual', 'Demonstration', 'Discussion', 'Practice Doing', 'Teaching Others'],
            datasets: [{
                label: 'Average Retention Rate (%)',
                data: [5, 10, 20, 30, 50, 75, 90],
                backgroundColor: [
                    '#E5E7EB', '#D1D5DB', '#9CA3AF', '#6B7280', '#FCD34D', '#F59E0B', '#B45309'
                ],
                borderRadius: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y', // Horizontal Bar
            scales: {
                x: {
                    beginAtZero: true,
                    max: 100
                }
            },
            plugins: {
                legend: { display: false }
            }
        }
    });

</script>
</body>
</html>
